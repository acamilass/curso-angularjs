<!DOCTYPE html>
<html ng-app="meuModulo">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Curso AngularJS</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body ng-controller="indexController">
	<header class="container">
		<h2 ng-bind="titulo"></h2>
	</header>
	<main class="container">
		<div class="row">
			<input type="text" ng-model="busca.nome" placeholder="Busca">
		</div>
		<table class="striped">
			<thead>
				<tr>
					<th>Nome</th>
					<th>E-mail</th>
					<th>Nota 1</th>
					<th>Nota 2</th>
					<th>Nota 3</th>
					<th>MÃ©dia</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="aluno in alunos | filter:busca">
					<td>{{ aluno.nome }}</td>
					<td>{{ aluno.email }}</td>
					<td>{{ aluno.nota1 }}</td>
					<td>{{ aluno.nota2 }}</td>
					<td>{{ aluno.nota3 }}</td>
					<td>{{ media(aluno) }}</td>
				</tr>
			</tbody>
		</table>
	</main>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<script src="lib/angular/angular.min.js"></script>
	<script>
		angular.module('meuModulo', [])
			.controller('indexController', function($scope) {
				$scope.titulo = 'Sistema com AngularJS';
				$scope.alunos = [
					{ nome: 'Camila', email: 'camila@mail.com', nota1: 65, nota2: 80, nota3: 55 },
					{ nome: 'Cristina', email: 'cristina@mail.com', nota1: 75, nota2: 80, nota3: 55 },
					{ nome: 'Clara', email: 'clara@mail.com', nota1: 65, nota2: 60, nota3: 55 },
					{ nome: 'Carol', email: 'carol@mail.com', nota1: 95, nota2: 30, nota3: 55 }
				];

				$scope.media = function(aluno) {
					const media = (aluno.nota1 + aluno.nota2 + aluno.nota3) / 3;
					return media.toFixed(1);
				};
			});
	</script>
</body>

</html>